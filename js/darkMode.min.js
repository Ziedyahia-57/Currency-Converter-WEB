const ThemeManager={darkModeSelectors:["body","h1","h2","h4","nav.top-nav","section#brands",".question","footer",],init(){this.themeContainer=document.querySelector(".theme"),this.themeButtons={light:this.themeContainer.querySelector(".theme-btn.light"),dark:this.themeContainer.querySelector(".theme-btn.dark"),auto:this.themeContainer.querySelector(".theme-btn.auto")},this.setupEventListeners(),this.loadTheme()},setupEventListeners(){this.themeContainer.addEventListener("click",()=>this.cycleTheme()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{"auto"===this.currentTheme&&this.applyTheme(e.matches?"dark":"light")})},cycleTheme(){let e=["light","dark","auto"],t=e.indexOf(this.currentTheme),h=(t+1)%e.length;this.setTheme(e[h])},loadTheme(){let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentTheme=e||"auto","auto"===this.currentTheme?this.applyTheme(t?"dark":"light"):this.applyTheme(this.currentTheme),this.updateThemeButtonVisibility(!1)},setTheme(e){if(this.currentTheme=e,localStorage.setItem("theme",e),"auto"===e){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.applyTheme(t?"dark":"light")}else this.applyTheme(e);this.updateThemeButtonVisibility(!0)},updateThemeButtonVisibility(e=!0){let t=Object.values(this.themeButtons);e?(t.forEach(e=>{e.classList.add("hidden")}),setTimeout(()=>{t.forEach(e=>{e.style.display="none"}),this.themeButtons[this.currentTheme]&&(this.themeButtons[this.currentTheme].style.display="block",this.themeButtons[this.currentTheme].offsetWidth,this.themeButtons[this.currentTheme].classList.remove("hidden"))},300)):(t.forEach(e=>{e.style.display="none",e.classList.remove("hidden")}),this.themeButtons[this.currentTheme]&&(this.themeButtons[this.currentTheme].style.display="block"))},applyTheme(e){let t="dark"===e;document.documentElement.setAttribute("data-dark",t),this.darkModeSelectors.forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.setAttribute("data-dark",t)})}),this.updateShapeImages(t);let h=document.querySelector(".first.fade-in-left.delay-1 img");h&&(h.src=t?h.src.replace("app.webp","app-dark.webp"):h.src.replace("app-dark.webp","app.webp"))},updateShapeImages(e){let t=document.querySelectorAll('img[src*="Shape"]');t.forEach(t=>{let h=t.src;t.classList.contains("white-icon")?e?t.src=h.includes("Shape-light.webp")?h.replace("Shape-light.webp","Shape-primary.webp"):h:t.src=h.includes("Shape-primary.webp")?h.replace("Shape-primary.webp","Shape-light.webp"):h:e?t.src=h.includes("Shape-light.webp")?h.replace("Shape-light.webp","Shape-dark.webp"):h:t.src=h.includes("Shape-dark.webp")?h.replace("Shape-dark.webp","Shape-light.webp"):h})}};document.addEventListener("DOMContentLoaded",()=>{ThemeManager.init()});